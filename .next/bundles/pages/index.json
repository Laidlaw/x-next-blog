{"component":"module.exports =\nwebpackJsonp([5],{\n\n/***/ 591:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__resourceQuery) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = __webpack_require__(11);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _App = __webpack_require__(639);\n\nvar _App2 = _interopRequireDefault(_App);\n\nvar _Header = __webpack_require__(640);\n\nvar _Header2 = _interopRequireDefault(_Header);\n\nvar _Submit = __webpack_require__(643);\n\nvar _Submit2 = _interopRequireDefault(_Submit);\n\nvar _PostList = __webpack_require__(641);\n\nvar _PostList2 = _interopRequireDefault(_PostList);\n\nvar _withData = __webpack_require__(648);\n\nvar _withData2 = _interopRequireDefault(_withData);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _jsxFileName = '/Users/alanlaidlaw/Desktop/site/with-next/with-apollo/pages/index.js?entry';\nexports.default = (0, _withData2.default)(function (props) {\n  return _react2.default.createElement(_App2.default, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8\n    }\n  }, _react2.default.createElement(_Header2.default, { pathname: props.url.pathname, __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9\n    }\n  }), _react2.default.createElement(_Submit2.default, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10\n    }\n  }), _react2.default.createElement(_PostList2.default, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11\n    }\n  }));\n});\n\n ;(function register() { /* react-hot-loader/webpack */ if (true) { if (typeof __REACT_HOT_LOADER__ === 'undefined') { return; } if (typeof module.exports === 'function') { __REACT_HOT_LOADER__.register(module.exports, 'module.exports', \"/Users/alanlaidlaw/Desktop/site/with-next/with-apollo/pages/index.js\"); return; } for (var key in module.exports) { if (!Object.prototype.hasOwnProperty.call(module.exports, key)) { continue; } var namedExport = void 0; try { namedExport = module.exports[key]; } catch (err) { continue; } __REACT_HOT_LOADER__.register(namedExport, key, \"/Users/alanlaidlaw/Desktop/site/with-next/with-apollo/pages/index.js\"); } } })();\n    (function (Component, route) {\n      if (false) return\n      if (false) return\n\n      var qs = __webpack_require__(82)\n      var params = qs.parse(__resourceQuery.slice(1))\n      if (params.entry == null) return\n\n      module.hot.accept()\n      Component.__route = route\n\n      if (module.hot.status() === 'idle') return\n\n      var components = next.router.components\n      for (var r in components) {\n        if (!components.hasOwnProperty(r)) continue\n\n        if (components[r].Component.__route === route) {\n          next.router.update(r, Component)\n        }\n      }\n    })(module.exports.default || module.exports, \"/\")\n  \n/* WEBPACK VAR INJECTION */}.call(exports, \"?entry\"))\n\n/***/ }),\n\n/***/ 639:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _style = __webpack_require__(562);\n\nvar _style2 = _interopRequireDefault(_style);\n\nvar _react = __webpack_require__(11);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _jsxFileName = \"/Users/alanlaidlaw/Desktop/site/with-next/with-apollo/components/App.js\";\n\nexports.default = function (_ref) {\n  var children = _ref.children;\n  return _react2.default.createElement(\"main\", {\n    \"data-jsx\": 412430643,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 2\n    }\n  }, children, _react2.default.createElement(_style2.default, {\n    styleId: 412430643,\n    css: \"\\n      * {\\n        font-family: Menlo, Monaco, \\\"Lucida Console\\\", \\\"Liberation Mono\\\", \\\"DejaVu Sans Mono\\\", \\\"Bitstream Vera Sans Mono\\\", \\\"Courier New\\\", monospace, serif;\\n      }\\n      body {\\n        margin: 0;\\n        padding: 25px 50px;\\n      }\\n      a {\\n        color: #22BAD9;\\n      }\\n      p {\\n        font-size: 14px;\\n        line-height: 24px;\\n      }\\n      article {\\n        margin: 0 auto;\\n        max-width: 650px;\\n      }\\n      button {\\n        align-items: center;\\n        background-color: #22BAD9;\\n        border: 0;\\n        color: white;\\n        display: flex;\\n        padding: 5px 7px;\\n      }\\n      button:active {\\n        background-color: #1B9DB7;\\n        transition: background-color .3s\\n      }\\n      button:focus {\\n        outline: none;\\n      }\\n    \"\n  }));\n};\n\n ;(function register() { /* react-hot-loader/webpack */ if (true) { if (typeof __REACT_HOT_LOADER__ === 'undefined') { return; } if (typeof module.exports === 'function') { __REACT_HOT_LOADER__.register(module.exports, 'module.exports', \"/Users/alanlaidlaw/Desktop/site/with-next/with-apollo/components/App.js\"); return; } for (var key in module.exports) { if (!Object.prototype.hasOwnProperty.call(module.exports, key)) { continue; } var namedExport = void 0; try { namedExport = module.exports[key]; } catch (err) { continue; } __REACT_HOT_LOADER__.register(namedExport, key, \"/Users/alanlaidlaw/Desktop/site/with-next/with-apollo/components/App.js\"); } } })();\n\n/***/ }),\n\n/***/ 640:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _style = __webpack_require__(562);\n\nvar _style2 = _interopRequireDefault(_style);\n\nvar _react = __webpack_require__(11);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _link = __webpack_require__(634);\n\nvar _link2 = _interopRequireDefault(_link);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _jsxFileName = '/Users/alanlaidlaw/Desktop/site/with-next/with-apollo/components/Header.js';\n\nexports.default = function (_ref) {\n  var pathname = _ref.pathname;\n  return _react2.default.createElement('header', {\n    'data-jsx': 2280026175,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 4\n    }\n  }, _react2.default.createElement(_link2.default, { prefetch: true, href: '/', __source: {\n      fileName: _jsxFileName,\n      lineNumber: 5\n    }\n  }, _react2.default.createElement('a', { className: pathname === '/' && 'is-active', 'data-jsx': 2280026175,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 6\n    }\n  }, 'Home')), _react2.default.createElement(_link2.default, { prefetch: true, href: '/about', __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9\n    }\n  }, _react2.default.createElement('a', { className: pathname === '/about' && 'is-active', 'data-jsx': 2280026175,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10\n    }\n  }, 'About')), _react2.default.createElement(_style2.default, {\n    styleId: 2280026175,\n    css: 'header[data-jsx=\"2280026175\"] {margin-bottom: 25px;}a[data-jsx=\"2280026175\"] {font-size: 14px;margin-right: 15px;text-decoration: none;}.is-active[data-jsx=\"2280026175\"] {text-decoration: underline;}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvSGVhZGVyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQVlnQixBQUNGLCtCQUNjLG9CQUNyQixDQUNFLDBCQUNlLGdCQUNHLG1CQUNHLHNCQUN2QixDQUNXLG1DQUNpQiwyQkFDNUIiLCJmaWxlIjoiY29tcG9uZW50cy9IZWFkZXIuanMiLCJzb3VyY2VSb290IjoiL1VzZXJzL2FsYW5sYWlkbGF3L0Rlc2t0b3Avc2l0ZS93aXRoLW5leHQvd2l0aC1hcG9sbG8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTGluayBmcm9tICduZXh0L2xpbmsnXG5cbmV4cG9ydCBkZWZhdWx0ICh7IHBhdGhuYW1lIH0pID0+IChcbiAgPGhlYWRlcj5cbiAgICA8TGluayBwcmVmZXRjaCBocmVmPScvJz5cbiAgICAgIDxhIGNsYXNzTmFtZT17cGF0aG5hbWUgPT09ICcvJyAmJiAnaXMtYWN0aXZlJ30+SG9tZTwvYT5cbiAgICA8L0xpbms+XG5cbiAgICA8TGluayBwcmVmZXRjaCBocmVmPScvYWJvdXQnPlxuICAgICAgPGEgY2xhc3NOYW1lPXtwYXRobmFtZSA9PT0gJy9hYm91dCcgJiYgJ2lzLWFjdGl2ZSd9PkFib3V0PC9hPlxuICAgIDwvTGluaz5cblxuICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgIGhlYWRlciB7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDI1cHg7XG4gICAgICB9XG4gICAgICBhIHtcbiAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICBtYXJnaW4tcmlnaHQ6IDE1cHg7XG4gICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgICAgIH1cbiAgICAgIC5pcy1hY3RpdmUge1xuICAgICAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcbiAgICAgIH1cbiAgICBgfTwvc3R5bGU+XG4gIDwvaGVhZGVyPlxuKVxuIl19 */\\n/*@ sourceURL=components/Header.js */'\n  }));\n};\n\n ;(function register() { /* react-hot-loader/webpack */ if (true) { if (typeof __REACT_HOT_LOADER__ === 'undefined') { return; } if (typeof module.exports === 'function') { __REACT_HOT_LOADER__.register(module.exports, 'module.exports', \"/Users/alanlaidlaw/Desktop/site/with-next/with-apollo/components/Header.js\"); return; } for (var key in module.exports) { if (!Object.prototype.hasOwnProperty.call(module.exports, key)) { continue; } var namedExport = void 0; try { namedExport = module.exports[key]; } catch (err) { continue; } __REACT_HOT_LOADER__.register(namedExport, key, \"/Users/alanlaidlaw/Desktop/site/with-next/with-apollo/components/Header.js\"); } } })();\n\n/***/ }),\n\n/***/ 641:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _toConsumableArray2 = __webpack_require__(93);\n\nvar _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);\n\nvar _assign = __webpack_require__(89);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _taggedTemplateLiteral2 = __webpack_require__(573);\n\nvar _taggedTemplateLiteral3 = _interopRequireDefault(_taggedTemplateLiteral2);\n\nvar _style = __webpack_require__(562);\n\nvar _style2 = _interopRequireDefault(_style);\n\nvar _react = __webpack_require__(11);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactApollo = __webpack_require__(560);\n\nvar _PostUpvoter = __webpack_require__(642);\n\nvar _PostUpvoter2 = _interopRequireDefault(_PostUpvoter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _jsxFileName = '/Users/alanlaidlaw/Desktop/site/with-next/with-apollo/components/PostList.js';\n\nvar _templateObject = (0, _taggedTemplateLiteral3.default)(['\\n  query allPosts($first: Int!, $skip: Int!) {\\n    allPosts(orderBy: createdAt_DESC, first: $first, skip: $skip) {\\n      id\\n      title\\n      votes\\n      url\\n      createdAt\\n    },\\n    _allPostsMeta {\\n      count\\n    }\\n  }\\n'], ['\\n  query allPosts($first: Int!, $skip: Int!) {\\n    allPosts(orderBy: createdAt_DESC, first: $first, skip: $skip) {\\n      id\\n      title\\n      votes\\n      url\\n      createdAt\\n    },\\n    _allPostsMeta {\\n      count\\n    }\\n  }\\n']);\n\nvar POSTS_PER_PAGE = 10;\n\nfunction PostList(_ref) {\n  var _ref$data = _ref.data,\n      allPosts = _ref$data.allPosts,\n      loading = _ref$data.loading,\n      _allPostsMeta = _ref$data._allPostsMeta,\n      loadMorePosts = _ref.loadMorePosts;\n\n  if (allPosts && allPosts.length) {\n    var areMorePosts = allPosts.length < _allPostsMeta.count;\n    return _react2.default.createElement('section', {\n      'data-jsx': 1990168462,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 10\n      }\n    }, _react2.default.createElement('ul', {\n      'data-jsx': 1990168462,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 11\n      }\n    }, allPosts.map(function (post, index) {\n      return _react2.default.createElement('li', { key: post.id, 'data-jsx': 1990168462,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 13\n        }\n      }, _react2.default.createElement('div', {\n        'data-jsx': 1990168462,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 14\n        }\n      }, _react2.default.createElement('span', {\n        'data-jsx': 1990168462,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 15\n        }\n      }, index + 1, '. '), _react2.default.createElement('a', { href: post.url, 'data-jsx': 1990168462,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 16\n        }\n      }, post.title), _react2.default.createElement(_PostUpvoter2.default, { id: post.id, votes: post.votes, __source: {\n          fileName: _jsxFileName,\n          lineNumber: 17\n        }\n      })));\n    })), areMorePosts ? _react2.default.createElement('button', { onClick: function onClick() {\n        return loadMorePosts();\n      }, 'data-jsx': 1990168462,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22\n      }\n    }, ' ', loading ? 'Loading...' : 'Show More', ' ') : '', _react2.default.createElement(_style2.default, {\n      styleId: 1990168462,\n      css: 'section[data-jsx=\"1990168462\"] {padding-bottom: 20px;}li[data-jsx=\"1990168462\"] {display: block;margin-bottom: 10px;}div[data-jsx=\"1990168462\"] {align-items: center;display:-webkit-flex; display:flex;}a[data-jsx=\"1990168462\"] {font-size: 14px;margin-right: 10px;text-decoration: none;padding-bottom: 0;border: 0;}span[data-jsx=\"1990168462\"] {font-size: 14px;margin-right: 5px;}ul[data-jsx=\"1990168462\"] {margin: 0;padding: 0;}button[data-jsx=\"1990168462\"]:before {align-self: center;border-style: solid;border-width: 6px 4px 0 4px;border-color: #ffffff transparent transparent transparent;content: \"\";height: 0;margin-right: 5px;width: 0;}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvUG9zdExpc3QuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBc0JvQixBQUNELGdDQUNjLHFCQUN0QixDQUNHLDJCQUNhLGVBQ0ssb0JBQ3JCLENBQ0ksNEJBQ2lCLG9CQUNOLG1DQUNmLENBQ0UsMEJBQ2UsZ0JBQ0csbUJBQ0csc0JBQ0osa0JBQ1IsVUFDWCxDQUNLLDZCQUNZLGdCQUNFLGtCQUNuQixDQUNHLDJCQUNRLFVBQ0MsV0FDWixDQUNjLHNDQUNNLG1CQUNDLG9CQUNRLDRCQUM4QiwwREFDOUMsWUFDRixVQUNRLGtCQUNULFNBQ1YiLCJmaWxlIjoiY29tcG9uZW50cy9Qb3N0TGlzdC5qcyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvYWxhbmxhaWRsYXcvRGVza3RvcC9zaXRlL3dpdGgtbmV4dC93aXRoLWFwb2xsbyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdxbCwgZ3JhcGhxbCB9IGZyb20gJ3JlYWN0LWFwb2xsbydcbmltcG9ydCBQb3N0VXB2b3RlciBmcm9tICcuL1Bvc3RVcHZvdGVyJ1xuXG5jb25zdCBQT1NUU19QRVJfUEFHRSA9IDEwXG5cbmZ1bmN0aW9uIFBvc3RMaXN0ICh7IGRhdGE6IHsgYWxsUG9zdHMsIGxvYWRpbmcsIF9hbGxQb3N0c01ldGEgfSwgbG9hZE1vcmVQb3N0cyB9KSB7XG4gIGlmIChhbGxQb3N0cyAmJiBhbGxQb3N0cy5sZW5ndGgpIHtcbiAgICBjb25zdCBhcmVNb3JlUG9zdHMgPSBhbGxQb3N0cy5sZW5ndGggPCBfYWxsUG9zdHNNZXRhLmNvdW50XG4gICAgcmV0dXJuIChcbiAgICAgIDxzZWN0aW9uPlxuICAgICAgICA8dWw+XG4gICAgICAgICAge2FsbFBvc3RzLm1hcCgocG9zdCwgaW5kZXgpID0+XG4gICAgICAgICAgICA8bGkga2V5PXtwb3N0LmlkfT5cbiAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8c3Bhbj57aW5kZXggKyAxfS4gPC9zcGFuPlxuICAgICAgICAgICAgICAgIDxhIGhyZWY9e3Bvc3QudXJsfT57cG9zdC50aXRsZX08L2E+XG4gICAgICAgICAgICAgICAgPFBvc3RVcHZvdGVyIGlkPXtwb3N0LmlkfSB2b3Rlcz17cG9zdC52b3Rlc30gLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvdWw+XG4gICAgICAgIHthcmVNb3JlUG9zdHMgPyA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IGxvYWRNb3JlUG9zdHMoKX0+IHtsb2FkaW5nID8gJ0xvYWRpbmcuLi4nIDogJ1Nob3cgTW9yZSd9IDwvYnV0dG9uPiA6ICcnfVxuICAgICAgICA8c3R5bGUganN4PntgXG4gICAgICAgICAgc2VjdGlvbiB7XG4gICAgICAgICAgICBwYWRkaW5nLWJvdHRvbTogMjBweDtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGkge1xuICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICAgICAgICAgIH1cbiAgICAgICAgICBkaXYge1xuICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgfVxuICAgICAgICAgIGEge1xuICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xuICAgICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgICAgICAgICAgcGFkZGluZy1ib3R0b206IDA7XG4gICAgICAgICAgICBib3JkZXI6IDA7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNwYW4ge1xuICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiA1cHg7XG4gICAgICAgICAgfVxuICAgICAgICAgIHVsIHtcbiAgICAgICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgICAgIHBhZGRpbmc6IDA7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJ1dHRvbjpiZWZvcmUge1xuICAgICAgICAgICAgYWxpZ24tc2VsZjogY2VudGVyO1xuICAgICAgICAgICAgYm9yZGVyLXN0eWxlOiBzb2xpZDtcbiAgICAgICAgICAgIGJvcmRlci13aWR0aDogNnB4IDRweCAwIDRweDtcbiAgICAgICAgICAgIGJvcmRlci1jb2xvcjogI2ZmZmZmZiB0cmFuc3BhcmVudCB0cmFuc3BhcmVudCB0cmFuc3BhcmVudDtcbiAgICAgICAgICAgIGNvbnRlbnQ6IFwiXCI7XG4gICAgICAgICAgICBoZWlnaHQ6IDA7XG4gICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDVweDtcbiAgICAgICAgICAgIHdpZHRoOiAwO1xuICAgICAgICAgIH1cbiAgICAgICAgYH08L3N0eWxlPlxuICAgICAgPC9zZWN0aW9uPlxuICAgIClcbiAgfVxuICByZXR1cm4gPGRpdj5Mb2FkaW5nPC9kaXY+XG59XG5cbmNvbnN0IGFsbFBvc3RzID0gZ3FsYFxuICBxdWVyeSBhbGxQb3N0cygkZmlyc3Q6IEludCEsICRza2lwOiBJbnQhKSB7XG4gICAgYWxsUG9zdHMob3JkZXJCeTogY3JlYXRlZEF0X0RFU0MsIGZpcnN0OiAkZmlyc3QsIHNraXA6ICRza2lwKSB7XG4gICAgICBpZFxuICAgICAgdGl0bGVcbiAgICAgIHZvdGVzXG4gICAgICB1cmxcbiAgICAgIGNyZWF0ZWRBdFxuICAgIH0sXG4gICAgX2FsbFBvc3RzTWV0YSB7XG4gICAgICBjb3VudFxuICAgIH1cbiAgfVxuYFxuXG4vLyBUaGUgYGdyYXBocWxgIHdyYXBwZXIgZXhlY3V0ZXMgYSBHcmFwaFFMIHF1ZXJ5IGFuZCBtYWtlcyB0aGUgcmVzdWx0c1xuLy8gYXZhaWxhYmxlIG9uIHRoZSBgZGF0YWAgcHJvcCBvZiB0aGUgd3JhcHBlZCBjb21wb25lbnQgKFBvc3RMaXN0KVxuZXhwb3J0IGRlZmF1bHQgZ3JhcGhxbChhbGxQb3N0cywge1xuICBvcHRpb25zOiB7XG4gICAgdmFyaWFibGVzOiB7XG4gICAgICBza2lwOiAwLFxuICAgICAgZmlyc3Q6IFBPU1RTX1BFUl9QQUdFXG4gICAgfVxuICB9LFxuICBwcm9wczogKHsgZGF0YSB9KSA9PiAoe1xuICAgIGRhdGEsXG4gICAgbG9hZE1vcmVQb3N0czogKCkgPT4ge1xuICAgICAgcmV0dXJuIGRhdGEuZmV0Y2hNb3JlKHtcbiAgICAgICAgdmFyaWFibGVzOiB7XG4gICAgICAgICAgc2tpcDogZGF0YS5hbGxQb3N0cy5sZW5ndGhcbiAgICAgICAgfSxcbiAgICAgICAgdXBkYXRlUXVlcnk6IChwcmV2aW91c1Jlc3VsdCwgeyBmZXRjaE1vcmVSZXN1bHQgfSkgPT4ge1xuICAgICAgICAgIGlmICghZmV0Y2hNb3JlUmVzdWx0LmRhdGEpIHtcbiAgICAgICAgICAgIHJldHVybiBwcmV2aW91c1Jlc3VsdFxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcHJldmlvdXNSZXN1bHQsIHtcbiAgICAgICAgICAgIC8vIEFwcGVuZCB0aGUgbmV3IHBvc3RzIHJlc3VsdHMgdG8gdGhlIG9sZCBvbmVcbiAgICAgICAgICAgIGFsbFBvc3RzOiBbLi4ucHJldmlvdXNSZXN1bHQuYWxsUG9zdHMsIC4uLmZldGNoTW9yZVJlc3VsdC5kYXRhLmFsbFBvc3RzXVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICB9KVxufSkoUG9zdExpc3QpXG4iXX0= */\\n/*@ sourceURL=components/PostList.js */'\n    }));\n  }\n  return _react2.default.createElement('div', {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    }\n  }, 'Loading');\n}\n\nvar allPosts = (0, _reactApollo.gql)(_templateObject);\n\n// The `graphql` wrapper executes a GraphQL query and makes the results\n// available on the `data` prop of the wrapped component (PostList)\nexports.default = (0, _reactApollo.graphql)(allPosts, {\n  options: {\n    variables: {\n      skip: 0,\n      first: POSTS_PER_PAGE\n    }\n  },\n  props: function props(_ref2) {\n    var data = _ref2.data;\n    return {\n      data: data,\n      loadMorePosts: function loadMorePosts() {\n        return data.fetchMore({\n          variables: {\n            skip: data.allPosts.length\n          },\n          updateQuery: function updateQuery(previousResult, _ref3) {\n            var fetchMoreResult = _ref3.fetchMoreResult;\n\n            if (!fetchMoreResult.data) {\n              return previousResult;\n            }\n            return (0, _assign2.default)({}, previousResult, {\n              // Append the new posts results to the old one\n              allPosts: [].concat((0, _toConsumableArray3.default)(previousResult.allPosts), (0, _toConsumableArray3.default)(fetchMoreResult.data.allPosts))\n            });\n          }\n        });\n      }\n    };\n  }\n})(PostList);\n\n ;(function register() { /* react-hot-loader/webpack */ if (true) { if (typeof __REACT_HOT_LOADER__ === 'undefined') { return; } if (typeof module.exports === 'function') { __REACT_HOT_LOADER__.register(module.exports, 'module.exports', \"/Users/alanlaidlaw/Desktop/site/with-next/with-apollo/components/PostList.js\"); return; } for (var key in module.exports) { if (!Object.prototype.hasOwnProperty.call(module.exports, key)) { continue; } var namedExport = void 0; try { namedExport = module.exports[key]; } catch (err) { continue; } __REACT_HOT_LOADER__.register(namedExport, key, \"/Users/alanlaidlaw/Desktop/site/with-next/with-apollo/components/PostList.js\"); } } })();\n\n/***/ }),\n\n/***/ 642:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _taggedTemplateLiteral2 = __webpack_require__(573);\n\nvar _taggedTemplateLiteral3 = _interopRequireDefault(_taggedTemplateLiteral2);\n\nvar _style = __webpack_require__(562);\n\nvar _style2 = _interopRequireDefault(_style);\n\nvar _react = __webpack_require__(11);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactApollo = __webpack_require__(560);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _jsxFileName = '/Users/alanlaidlaw/Desktop/site/with-next/with-apollo/components/PostUpvoter.js';\n\nvar _templateObject = (0, _taggedTemplateLiteral3.default)(['\\n  mutation updatePost($id: ID!, $votes: Int) {\\n    updatePost(id: $id, votes: $votes) {\\n      id\\n      votes\\n    }\\n  }\\n'], ['\\n  mutation updatePost($id: ID!, $votes: Int) {\\n    updatePost(id: $id, votes: $votes) {\\n      id\\n      votes\\n    }\\n  }\\n']);\n\nfunction PostUpvoter(_ref) {\n  var upvote = _ref.upvote,\n      votes = _ref.votes,\n      id = _ref.id;\n\n  return _react2.default.createElement('button', { onClick: function onClick() {\n      return upvote(id, votes + 1);\n    }, 'data-jsx': 2734071884,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 6\n    }\n  }, votes, _react2.default.createElement(_style2.default, {\n    styleId: 2734071884,\n    css: 'button[data-jsx=\"2734071884\"] {background-color: transparent;border: 1px solid #e4e4e4;color: #000;}button[data-jsx=\"2734071884\"]:active {background-color: transparent;}button[data-jsx=\"2734071884\"]:before {align-self: center;border-color: transparent transparent #000000 transparent;border-style: solid;border-width: 0 4px 6px 4px;content: \"\";height: 0;margin-right: 5px;width: 0;}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvUG9zdFVwdm90ZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBT2tCLEFBQ0YsK0JBQ3dCLDhCQUNKLDBCQUNkLFlBQ2IsQ0FDYyxzQ0FDaUIsOEJBQy9CLENBQ2Msc0NBQ00sbUJBQ3VDLDBEQUN0QyxvQkFDUSw0QkFDaEIsWUFDRixVQUNRLGtCQUNULFNBQ1YiLCJmaWxlIjoiY29tcG9uZW50cy9Qb3N0VXB2b3Rlci5qcyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvYWxhbmxhaWRsYXcvRGVza3RvcC9zaXRlL3dpdGgtbmV4dC93aXRoLWFwb2xsbyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCB7IGdxbCwgZ3JhcGhxbCB9IGZyb20gJ3JlYWN0LWFwb2xsbydcblxuZnVuY3Rpb24gUG9zdFVwdm90ZXIgKHsgdXB2b3RlLCB2b3RlcywgaWQgfSkge1xuICByZXR1cm4gKFxuICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gdXB2b3RlKGlkLCB2b3RlcyArIDEpfT5cbiAgICAgIHt2b3Rlc31cbiAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgYnV0dG9uIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjZTRlNGU0O1xuICAgICAgICAgIGNvbG9yOiAjMDAwO1xuICAgICAgICB9XG4gICAgICAgIGJ1dHRvbjphY3RpdmUge1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIGJ1dHRvbjpiZWZvcmUge1xuICAgICAgICAgIGFsaWduLXNlbGY6IGNlbnRlcjtcbiAgICAgICAgICBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50IHRyYW5zcGFyZW50ICMwMDAwMDAgdHJhbnNwYXJlbnQ7XG4gICAgICAgICAgYm9yZGVyLXN0eWxlOiBzb2xpZDtcbiAgICAgICAgICBib3JkZXItd2lkdGg6IDAgNHB4IDZweCA0cHg7XG4gICAgICAgICAgY29udGVudDogXCJcIjtcbiAgICAgICAgICBoZWlnaHQ6IDA7XG4gICAgICAgICAgbWFyZ2luLXJpZ2h0OiA1cHg7XG4gICAgICAgICAgd2lkdGg6IDA7XG4gICAgICAgIH1cbiAgICAgIGB9PC9zdHlsZT5cbiAgICA8L2J1dHRvbj5cbiAgKVxufVxuXG5jb25zdCB1cHZvdGVQb3N0ID0gZ3FsYFxuICBtdXRhdGlvbiB1cGRhdGVQb3N0KCRpZDogSUQhLCAkdm90ZXM6IEludCkge1xuICAgIHVwZGF0ZVBvc3QoaWQ6ICRpZCwgdm90ZXM6ICR2b3Rlcykge1xuICAgICAgaWRcbiAgICAgIHZvdGVzXG4gICAgfVxuICB9XG5gXG5cbmV4cG9ydCBkZWZhdWx0IGdyYXBocWwodXB2b3RlUG9zdCwge1xuICBwcm9wczogKHsgb3duUHJvcHMsIG11dGF0ZSB9KSA9PiAoe1xuICAgIHVwdm90ZTogKGlkLCB2b3RlcykgPT4gbXV0YXRlKHtcbiAgICAgIHZhcmlhYmxlczogeyBpZCwgdm90ZXMgfSxcbiAgICAgIG9wdGltaXN0aWNSZXNwb25zZToge1xuICAgICAgICB1cGRhdGVQb3N0OiB7XG4gICAgICAgICAgaWQ6IG93blByb3BzLmlkLFxuICAgICAgICAgIHZvdGVzOiBvd25Qcm9wcy52b3RlcyArIDFcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gIH0pXG59KShQb3N0VXB2b3RlcilcbiJdfQ== */\\n/*@ sourceURL=components/PostUpvoter.js */'\n  }));\n}\n\nvar upvotePost = (0, _reactApollo.gql)(_templateObject);\n\nexports.default = (0, _reactApollo.graphql)(upvotePost, {\n  props: function props(_ref2) {\n    var ownProps = _ref2.ownProps,\n        mutate = _ref2.mutate;\n    return {\n      upvote: function upvote(id, votes) {\n        return mutate({\n          variables: { id: id, votes: votes },\n          optimisticResponse: {\n            updatePost: {\n              id: ownProps.id,\n              votes: ownProps.votes + 1\n            }\n          }\n        });\n      }\n    };\n  }\n})(PostUpvoter);\n\n ;(function register() { /* react-hot-loader/webpack */ if (true) { if (typeof __REACT_HOT_LOADER__ === 'undefined') { return; } if (typeof module.exports === 'function') { __REACT_HOT_LOADER__.register(module.exports, 'module.exports', \"/Users/alanlaidlaw/Desktop/site/with-next/with-apollo/components/PostUpvoter.js\"); return; } for (var key in module.exports) { if (!Object.prototype.hasOwnProperty.call(module.exports, key)) { continue; } var namedExport = void 0; try { namedExport = module.exports[key]; } catch (err) { continue; } __REACT_HOT_LOADER__.register(namedExport, key, \"/Users/alanlaidlaw/Desktop/site/with-next/with-apollo/components/PostUpvoter.js\"); } } })();\n\n/***/ }),\n\n/***/ 643:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _toConsumableArray2 = __webpack_require__(93);\n\nvar _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);\n\nvar _assign = __webpack_require__(89);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _taggedTemplateLiteral2 = __webpack_require__(573);\n\nvar _taggedTemplateLiteral3 = _interopRequireDefault(_taggedTemplateLiteral2);\n\nvar _style = __webpack_require__(562);\n\nvar _style2 = _interopRequireDefault(_style);\n\nvar _react = __webpack_require__(11);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactApollo = __webpack_require__(560);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _jsxFileName = '/Users/alanlaidlaw/Desktop/site/with-next/with-apollo/components/Submit.js';\n\nvar _templateObject = (0, _taggedTemplateLiteral3.default)(['\\n  mutation createPost($title: String!, $url: String!) {\\n    createPost(title: $title, url: $url) {\\n      id\\n      title\\n      votes\\n      url\\n      createdAt\\n    }\\n  }\\n'], ['\\n  mutation createPost($title: String!, $url: String!) {\\n    createPost(title: $title, url: $url) {\\n      id\\n      title\\n      votes\\n      url\\n      createdAt\\n    }\\n  }\\n']);\n\nfunction Submit(_ref) {\n  var createPost = _ref.createPost;\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    var title = e.target.elements.title.value;\n    var url = e.target.elements.url.value;\n\n    if (title === '' || url === '') {\n      window.alert('Both fields are required.');\n      return false;\n    }\n\n    // prepend http if missing from url\n    if (!url.match(/^[a-zA-Z]+:\\/\\//)) {\n      url = 'http://' + url;\n    }\n\n    createPost(title, url);\n\n    // reset form\n    e.target.elements.title.value = '';\n    e.target.elements.url.value = '';\n  }\n\n  return _react2.default.createElement('form', { onSubmit: handleSubmit, 'data-jsx': 567193191,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    }\n  }, _react2.default.createElement('h1', {\n    'data-jsx': 567193191,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    }\n  }, 'Submit'), _react2.default.createElement('input', { placeholder: 'title', name: 'title', 'data-jsx': 567193191,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    }\n  }), _react2.default.createElement('input', { placeholder: 'url', name: 'url', 'data-jsx': 567193191,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    }\n  }), _react2.default.createElement('button', { type: 'submit', 'data-jsx': 567193191,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    }\n  }, 'Submit'), _react2.default.createElement(_style2.default, {\n    styleId: 567193191,\n    css: 'form[data-jsx=\"567193191\"] {border-bottom: 1px solid #ececec;padding-bottom: 20px;margin-bottom: 20px;}h1[data-jsx=\"567193191\"] {font-size: 20px;}input[data-jsx=\"567193191\"] {display: block;margin-bottom: 10px;}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvU3VibWl0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWdDa0IsQUFDSiw0QkFDNkIsaUNBQ1oscUJBQ0Qsb0JBQ3JCLENBQ0csMEJBQ2MsZ0JBQ2pCLENBQ00sNkJBQ1UsZUFDSyxvQkFDckIiLCJmaWxlIjoiY29tcG9uZW50cy9TdWJtaXQuanMiLCJzb3VyY2VSb290IjoiL1VzZXJzL2FsYW5sYWlkbGF3L0Rlc2t0b3Avc2l0ZS93aXRoLW5leHQvd2l0aC1hcG9sbG8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBncWwsIGdyYXBocWwgfSBmcm9tICdyZWFjdC1hcG9sbG8nXG5cbmZ1bmN0aW9uIFN1Ym1pdCAoeyBjcmVhdGVQb3N0IH0pIHtcbiAgZnVuY3Rpb24gaGFuZGxlU3VibWl0IChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICBsZXQgdGl0bGUgPSBlLnRhcmdldC5lbGVtZW50cy50aXRsZS52YWx1ZVxuICAgIGxldCB1cmwgPSBlLnRhcmdldC5lbGVtZW50cy51cmwudmFsdWVcblxuICAgIGlmICh0aXRsZSA9PT0gJycgfHwgdXJsID09PSAnJykge1xuICAgICAgd2luZG93LmFsZXJ0KCdCb3RoIGZpZWxkcyBhcmUgcmVxdWlyZWQuJylcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIC8vIHByZXBlbmQgaHR0cCBpZiBtaXNzaW5nIGZyb20gdXJsXG4gICAgaWYgKCF1cmwubWF0Y2goL15bYS16QS1aXSs6XFwvXFwvLykpIHtcbiAgICAgIHVybCA9IGBodHRwOi8vJHt1cmx9YFxuICAgIH1cblxuICAgIGNyZWF0ZVBvc3QodGl0bGUsIHVybClcblxuICAgIC8vIHJlc2V0IGZvcm1cbiAgICBlLnRhcmdldC5lbGVtZW50cy50aXRsZS52YWx1ZSA9ICcnXG4gICAgZS50YXJnZXQuZWxlbWVudHMudXJsLnZhbHVlID0gJydcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdH0+XG4gICAgICA8aDE+U3VibWl0PC9oMT5cbiAgICAgIDxpbnB1dCBwbGFjZWhvbGRlcj0ndGl0bGUnIG5hbWU9J3RpdGxlJyAvPlxuICAgICAgPGlucHV0IHBsYWNlaG9sZGVyPSd1cmwnIG5hbWU9J3VybCcgLz5cbiAgICAgIDxidXR0b24gdHlwZT0nc3VibWl0Jz5TdWJtaXQ8L2J1dHRvbj5cbiAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgZm9ybSB7XG4gICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlY2VjZWM7XG4gICAgICAgICAgcGFkZGluZy1ib3R0b206IDIwcHg7XG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgICAgICAgfVxuICAgICAgICBoMSB7XG4gICAgICAgICAgZm9udC1zaXplOiAyMHB4O1xuICAgICAgICB9XG4gICAgICAgIGlucHV0IHtcbiAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICAgICAgICB9XG4gICAgICBgfTwvc3R5bGU+XG4gICAgPC9mb3JtPlxuICApXG59XG5cbmNvbnN0IGNyZWF0ZVBvc3QgPSBncWxgXG4gIG11dGF0aW9uIGNyZWF0ZVBvc3QoJHRpdGxlOiBTdHJpbmchLCAkdXJsOiBTdHJpbmchKSB7XG4gICAgY3JlYXRlUG9zdCh0aXRsZTogJHRpdGxlLCB1cmw6ICR1cmwpIHtcbiAgICAgIGlkXG4gICAgICB0aXRsZVxuICAgICAgdm90ZXNcbiAgICAgIHVybFxuICAgICAgY3JlYXRlZEF0XG4gICAgfVxuICB9XG5gXG5cbmV4cG9ydCBkZWZhdWx0IGdyYXBocWwoY3JlYXRlUG9zdCwge1xuICBwcm9wczogKHsgbXV0YXRlIH0pID0+ICh7XG4gICAgY3JlYXRlUG9zdDogKHRpdGxlLCB1cmwpID0+IG11dGF0ZSh7XG4gICAgICB2YXJpYWJsZXM6IHsgdGl0bGUsIHVybCB9LFxuICAgICAgdXBkYXRlUXVlcmllczoge1xuICAgICAgICBhbGxQb3N0czogKHByZXZpb3VzUmVzdWx0LCB7IG11dGF0aW9uUmVzdWx0IH0pID0+IHtcbiAgICAgICAgICBjb25zdCBuZXdQb3N0ID0gbXV0YXRpb25SZXN1bHQuZGF0YS5jcmVhdGVQb3N0XG4gICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHByZXZpb3VzUmVzdWx0LCB7XG4gICAgICAgICAgICAvLyBBcHBlbmQgdGhlIG5ldyBwb3N0XG4gICAgICAgICAgICBhbGxQb3N0czogW25ld1Bvc3QsIC4uLnByZXZpb3VzUmVzdWx0LmFsbFBvc3RzXVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICB9KVxufSkoU3VibWl0KVxuIl19 */\\n/*@ sourceURL=components/Submit.js */'\n  }));\n}\n\nvar createPost = (0, _reactApollo.gql)(_templateObject);\n\nexports.default = (0, _reactApollo.graphql)(createPost, {\n  props: function props(_ref2) {\n    var mutate = _ref2.mutate;\n    return {\n      createPost: function createPost(title, url) {\n        return mutate({\n          variables: { title: title, url: url },\n          updateQueries: {\n            allPosts: function allPosts(previousResult, _ref3) {\n              var mutationResult = _ref3.mutationResult;\n\n              var newPost = mutationResult.data.createPost;\n              return (0, _assign2.default)({}, previousResult, {\n                // Append the new post\n                allPosts: [newPost].concat((0, _toConsumableArray3.default)(previousResult.allPosts))\n              });\n            }\n          }\n        });\n      }\n    };\n  }\n})(Submit);\n\n ;(function register() { /* react-hot-loader/webpack */ if (true) { if (typeof __REACT_HOT_LOADER__ === 'undefined') { return; } if (typeof module.exports === 'function') { __REACT_HOT_LOADER__.register(module.exports, 'module.exports', \"/Users/alanlaidlaw/Desktop/site/with-next/with-apollo/components/Submit.js\"); return; } for (var key in module.exports) { if (!Object.prototype.hasOwnProperty.call(module.exports, key)) { continue; } var namedExport = void 0; try { namedExport = module.exports[key]; } catch (err) { continue; } __REACT_HOT_LOADER__.register(namedExport, key, \"/Users/alanlaidlaw/Desktop/site/with-next/with-apollo/components/Submit.js\"); } } })();\n\n/***/ }),\n\n/***/ 644:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(process) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.initClient = undefined;\n\nvar _reactApollo = __webpack_require__(560);\n\nvar apolloClient = null;\n\nfunction createClient(headers) {\n  return new _reactApollo.ApolloClient({\n    ssrMode: !process.browser,\n    dataIdFromObject: function dataIdFromObject(result) {\n      return result.id || null;\n    },\n    networkInterface: (0, _reactApollo.createNetworkInterface)({\n      uri: 'https://api.graph.cool/simple/v1/cj0vin9wt1em70102iregwmbz',\n      opts: {\n        credentials: 'same-origin'\n        // Pass headers here if your graphql server requires them\n      }\n    })\n  });\n}\n\nvar initClient = exports.initClient = function initClient(headers) {\n  if (!process.browser) {\n    return createClient(headers);\n  }\n  if (!apolloClient) {\n    apolloClient = createClient(headers);\n  }\n  return apolloClient;\n};\n\n ;(function register() { /* react-hot-loader/webpack */ if (true) { if (typeof __REACT_HOT_LOADER__ === 'undefined') { return; } if (typeof module.exports === 'function') { __REACT_HOT_LOADER__.register(module.exports, 'module.exports', \"/Users/alanlaidlaw/Desktop/site/with-next/with-apollo/lib/initClient.js\"); return; } for (var key in module.exports) { if (!Object.prototype.hasOwnProperty.call(module.exports, key)) { continue; } var namedExport = void 0; try { namedExport = module.exports[key]; } catch (err) { continue; } __REACT_HOT_LOADER__.register(namedExport, key, \"/Users/alanlaidlaw/Desktop/site/with-next/with-apollo/lib/initClient.js\"); } } })();\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(41)))\n\n/***/ }),\n\n/***/ 645:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(process) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.initStore = undefined;\n\nvar _redux = __webpack_require__(561);\n\nvar _reducer = __webpack_require__(647);\n\nvar _reducer2 = _interopRequireDefault(_reducer);\n\nvar _middleware = __webpack_require__(646);\n\nvar _middleware2 = _interopRequireDefault(_middleware);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar reduxStore = null;\n\nvar initStore = exports.initStore = function initStore(client, initialState) {\n  var store = void 0;\n  if (!process.browser || !reduxStore) {\n    var middleware = (0, _middleware2.default)(client.middleware());\n    store = (0, _redux.createStore)((0, _reducer2.default)(client), initialState, middleware);\n    if (!process.browser) {\n      return store;\n    }\n    reduxStore = store;\n  }\n  return reduxStore;\n};\n\n ;(function register() { /* react-hot-loader/webpack */ if (true) { if (typeof __REACT_HOT_LOADER__ === 'undefined') { return; } if (typeof module.exports === 'function') { __REACT_HOT_LOADER__.register(module.exports, 'module.exports', \"/Users/alanlaidlaw/Desktop/site/with-next/with-apollo/lib/initStore.js\"); return; } for (var key in module.exports) { if (!Object.prototype.hasOwnProperty.call(module.exports, key)) { continue; } var namedExport = void 0; try { namedExport = module.exports[key]; } catch (err) { continue; } __REACT_HOT_LOADER__.register(namedExport, key, \"/Users/alanlaidlaw/Desktop/site/with-next/with-apollo/lib/initStore.js\"); } } })();\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(41)))\n\n/***/ }),\n\n/***/ 646:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(process) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = createMiddleware;\n\nvar _redux = __webpack_require__(561);\n\nfunction createMiddleware(clientMiddleware) {\n  var middleware = (0, _redux.applyMiddleware)(clientMiddleware);\n  if (process.browser && window.devToolsExtension) {\n    return (0, _redux.compose)(middleware, window.devToolsExtension());\n  }\n  return middleware;\n}\n\n ;(function register() { /* react-hot-loader/webpack */ if (true) { if (typeof __REACT_HOT_LOADER__ === 'undefined') { return; } if (typeof module.exports === 'function') { __REACT_HOT_LOADER__.register(module.exports, 'module.exports', \"/Users/alanlaidlaw/Desktop/site/with-next/with-apollo/lib/middleware.js\"); return; } for (var key in module.exports) { if (!Object.prototype.hasOwnProperty.call(module.exports, key)) { continue; } var namedExport = void 0; try { namedExport = module.exports[key]; } catch (err) { continue; } __REACT_HOT_LOADER__.register(namedExport, key, \"/Users/alanlaidlaw/Desktop/site/with-next/with-apollo/lib/middleware.js\"); } } })();\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(41)))\n\n/***/ }),\n\n/***/ 647:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = getReducer;\n\nvar _redux = __webpack_require__(561);\n\nfunction getReducer(client) {\n  return (0, _redux.combineReducers)({\n    apollo: client.reducer()\n  });\n}\n\n ;(function register() { /* react-hot-loader/webpack */ if (true) { if (typeof __REACT_HOT_LOADER__ === 'undefined') { return; } if (typeof module.exports === 'function') { __REACT_HOT_LOADER__.register(module.exports, 'module.exports', \"/Users/alanlaidlaw/Desktop/site/with-next/with-apollo/lib/reducer.js\"); return; } for (var key in module.exports) { if (!Object.prototype.hasOwnProperty.call(module.exports, key)) { continue; } var namedExport = void 0; try { namedExport = module.exports[key]; } catch (err) { continue; } __REACT_HOT_LOADER__.register(namedExport, key, \"/Users/alanlaidlaw/Desktop/site/with-next/with-apollo/lib/reducer.js\"); } } })();\n\n/***/ }),\n\n/***/ 648:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(process) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(46);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _regenerator = __webpack_require__(64);\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _extends2 = __webpack_require__(92);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _asyncToGenerator2 = __webpack_require__(63);\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nvar _classCallCheck2 = __webpack_require__(22);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(48);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _createClass2 = __webpack_require__(23);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _inherits2 = __webpack_require__(47);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\n__webpack_require__(624);\n\nvar _react = __webpack_require__(11);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactApollo = __webpack_require__(560);\n\nvar _initClient = __webpack_require__(644);\n\nvar _initStore = __webpack_require__(645);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _jsxFileName = '/Users/alanlaidlaw/Desktop/site/with-next/with-apollo/lib/withData.js';\n\nexports.default = function (Component) {\n  return function (_React$Component) {\n    (0, _inherits3.default)(_class, _React$Component);\n\n    (0, _createClass3.default)(_class, null, [{\n      key: 'getInitialProps',\n      value: function () {\n        var _ref = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(ctx) {\n          var headers, client, store, props, app, state;\n          return _regenerator2.default.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  headers = ctx.req ? ctx.req.headers : {};\n                  client = (0, _initClient.initClient)(headers);\n                  store = (0, _initStore.initStore)(client, client.initialState);\n                  _context.t0 = _extends3.default;\n                  _context.t1 = {\n                    url: { query: ctx.query, pathname: ctx.pathname }\n                  };\n                  _context.next = 7;\n                  return Component.getInitialProps ? Component.getInitialProps(ctx) : {};\n\n                case 7:\n                  _context.t2 = _context.sent;\n                  props = (0, _context.t0)(_context.t1, _context.t2);\n\n                  if (process.browser) {\n                    _context.next = 13;\n                    break;\n                  }\n\n                  app = _react2.default.createElement(_reactApollo.ApolloProvider, { client: client, store: store, __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 21\n                    }\n                  }, _react2.default.createElement(Component, (0, _extends3.default)({}, props, {\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 22\n                    }\n                  })));\n                  _context.next = 13;\n                  return (0, _reactApollo.getDataFromTree)(app);\n\n                case 13:\n                  state = store.getState();\n                  return _context.abrupt('return', (0, _extends3.default)({\n                    initialState: (0, _extends3.default)({}, state, {\n                      apollo: {\n                        data: client.getInitialState().data\n                      }\n                    }),\n                    headers: headers\n                  }, props));\n\n                case 15:\n                case 'end':\n                  return _context.stop();\n              }\n            }\n          }, _callee, this);\n        }));\n\n        function getInitialProps(_x) {\n          return _ref.apply(this, arguments);\n        }\n\n        return getInitialProps;\n      }()\n    }]);\n\n    function _class(props) {\n      (0, _classCallCheck3.default)(this, _class);\n\n      var _this = (0, _possibleConstructorReturn3.default)(this, (_class.__proto__ || (0, _getPrototypeOf2.default)(_class)).call(this, props));\n\n      _this.client = (0, _initClient.initClient)(_this.props.headers);\n      _this.store = (0, _initStore.initStore)(_this.client, _this.props.initialState);\n      return _this;\n    }\n\n    (0, _createClass3.default)(_class, [{\n      key: 'render',\n      value: function render() {\n        return _react2.default.createElement(_reactApollo.ApolloProvider, { client: this.client, store: this.store, __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50\n          }\n        }, _react2.default.createElement(Component, (0, _extends3.default)({}, this.props, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51\n          }\n        })));\n      }\n    }]);\n\n    return _class;\n  }(_react2.default.Component);\n};\n\n ;(function register() { /* react-hot-loader/webpack */ if (true) { if (typeof __REACT_HOT_LOADER__ === 'undefined') { return; } if (typeof module.exports === 'function') { __REACT_HOT_LOADER__.register(module.exports, 'module.exports', \"/Users/alanlaidlaw/Desktop/site/with-next/with-apollo/lib/withData.js\"); return; } for (var key in module.exports) { if (!Object.prototype.hasOwnProperty.call(module.exports, key)) { continue; } var namedExport = void 0; try { namedExport = module.exports[key]; } catch (err) { continue; } __REACT_HOT_LOADER__.register(namedExport, key, \"/Users/alanlaidlaw/Desktop/site/with-next/with-apollo/lib/withData.js\"); } } })();\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(41)))\n\n/***/ }),\n\n/***/ 654:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(591);\n\n\n/***/ })\n\n},[654]);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wYWdlcz83YmU4OTdkIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvQXBwLmpzPzdiZTg5N2QiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9IZWFkZXIuanM/N2JlODk3ZCIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL1Bvc3RMaXN0LmpzPzdiZTg5N2QiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9Qb3N0VXB2b3Rlci5qcz83YmU4OTdkIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvU3VibWl0LmpzPzdiZTg5N2QiLCJ3ZWJwYWNrOi8vLy4vbGliL2luaXRDbGllbnQuanM/N2JlODk3ZCIsIndlYnBhY2s6Ly8vLi9saWIvaW5pdFN0b3JlLmpzPzdiZTg5N2QiLCJ3ZWJwYWNrOi8vLy4vbGliL21pZGRsZXdhcmUuanM/N2JlODk3ZCIsIndlYnBhY2s6Ly8vLi9saWIvcmVkdWNlci5qcz83YmU4OTdkIiwid2VicGFjazovLy8uL2xpYi93aXRoRGF0YS5qcz83YmU4OTdkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWdCOzs7O0FBQ0c7Ozs7QUFDQTs7OztBQUNFOzs7O0FBR3JCOzs7Ozs7OzBDQUF3QixVQUFDLE9BQUQ7eUJBQ3JCOztnQkFBRDtrQkFDRTtBQURGO0FBQUEscUJBQ0csa0NBQU8sVUFBVSxNQUFNLElBQUk7Z0JBQTVCO2tCQUNBO0FBREE7c0JBQ0M7O2dCQUFEO2tCQUNBO0FBREE7QUFBQSxzQkFDQzs7Z0JBQUQ7a0JBQUE7QUFBQTtBQUFBO0FBSlcsRzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNOZjs7Ozs7Ozs7a0JBQWU7TUFBRzt5QkFDaEI7Z0JBQUE7O2dCQUFBO2tCQUNHO0FBREg7QUFBQTthQUFBO1NBQUE7QUFBQTtBQURGLEU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0VBOzs7Ozs7OztrQkFBZTtNQUFHO3lCQUNoQjtnQkFB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LE9BQU8sa0JBR2pCO0FBSEk7QUFERjs2QkExQks7QUF3QlAscUJBT0c7O3FCQS9CSTtxQkFBQTtrQ0FBQTs7QUFBQTtzQkFBQTtBQUFBOztxQ0FBQTtrQ0FBQTtBQUFBOztlQUFBO0FBbUNYO0FBbkNXOztvQkFtQ0UsT0FBTzswQ0FBQTs7d0lBRWxCOztZQUFLLFNBQVMsNEJBQVcsTUFBSyxNQUM5QjtZQUFLLFFBQVEsMEJBQVUsTUFBSyxRQUFRLE1BQUssTUFBTTthQUNoRDtBQXZDVTs7O1dBQUE7K0JBMENUOytCQUNHLDZDQUFlLFFBQVEsS0FBSyxRQUFRLE9BQU8sS0FBSztzQkFBakQ7d0JBQ0U7QUFERjtTQUFBLGdDQUNHLHNDQUFjLEtBQUs7O3NCQUFwQjt3QkFHTDtBQUhLO0FBQUE7QUE1Q0s7QUFBQTs7V0FBQTtJQUNDLGdCQUFNO0FBRHRCLEUiLCJmaWxlIjoiYnVuZGxlcy9wYWdlcy9pbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBBcHAgZnJvbSAnLi4vY29tcG9uZW50cy9BcHAnXG5pbXBvcnQgSGVhZGVyIGZyb20gJy4uL2NvbXBvbmVudHMvSGVhZGVyJ1xuaW1wb3J0IFN1Ym1pdCBmcm9tICcuLi9jb21wb25lbnRzL1N1Ym1pdCdcbmltcG9ydCBQb3N0TGlzdCBmcm9tICcuLi9jb21wb25lbnRzL1Bvc3RMaXN0J1xuaW1wb3J0IHdpdGhEYXRhIGZyb20gJy4uL2xpYi93aXRoRGF0YSdcblxuZXhwb3J0IGRlZmF1bHQgd2l0aERhdGEoKHByb3BzKSA9PiAoXG4gIDxBcHA+XG4gICAgPEhlYWRlciBwYXRobmFtZT17cHJvcHMudXJsLnBhdGhuYW1lfSAvPlxuICAgIDxTdWJtaXQgLz5cbiAgICA8UG9zdExpc3QgLz5cbiAgPC9BcHA+XG4pKVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vcGFnZXM/ZW50cnkiLCJleHBvcnQgZGVmYXVsdCAoeyBjaGlsZHJlbiB9KSA9PiAoXG4gIDxtYWluPlxuICAgIHtjaGlsZHJlbn1cbiAgICA8c3R5bGUganN4IGdsb2JhbD57YFxuICAgICAgKiB7XG4gICAgICAgIGZvbnQtZmFtaWx5OiBNZW5sbywgTW9uYWNvLCBcIkx1Y2lkYSBDb25zb2xlXCIsIFwiTGliZXJhdGlvbiBNb25vXCIsIFwiRGVqYVZ1IFNhbnMgTW9ub1wiLCBcIkJpdHN0cmVhbSBWZXJhIFNhbnMgTW9ub1wiLCBcIkNvdXJpZXIgTmV3XCIsIG1vbm9zcGFjZSwgc2VyaWY7XG4gICAgICB9XG4gICAgICBib2R5IHtcbiAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICBwYWRkaW5nOiAyNXB4IDUwcHg7XG4gICAgICB9XG4gICAgICBhIHtcbiAgICAgICAgY29sb3I6ICMyMkJBRDk7XG4gICAgICB9XG4gICAgICBwIHtcbiAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICBsaW5lLWhlaWdodDogMjRweDtcbiAgICAgIH1cbiAgICAgIGFydGljbGUge1xuICAgICAgICBtYXJnaW46IDAgYXV0bztcbiAgICAgICAgbWF4LXdpZHRoOiA2NTBweDtcbiAgICAgIH1cbiAgICAgIGJ1dHRvbiB7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMyMkJBRDk7XG4gICAgICAgIGJvcmRlcjogMDtcbiAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBwYWRkaW5nOiA1cHggN3B4O1xuICAgICAgfVxuICAgICAgYnV0dG9uOmFjdGl2ZSB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMxQjlEQjc7XG4gICAgICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgLjNzXG4gICAgICB9XG4gICAgICBidXR0b246Zm9jdXMge1xuICAgICAgICBvdXRsaW5lOiBub25lO1xuICAgICAgfVxuICAgIGB9PC9zdHlsZT5cbiAgPC9tYWluPlxuKVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vY29tcG9uZW50cy9BcHAuanMiLCJpbXBvcnQgTGluayBmcm9tICduZXh0L2xpbmsnXG5cbmV4cG9ydCBkZWZhdWx0ICh7IHBhdGhuYW1lIH0pID0+IChcbiAgPGhlYWRlcj5cbiAgICA8TGluayBwcmVmZXRjaCBocmVmPScvJz5cbiAgICAgIDxhIGNsYXNzTmFtZT17cGF0aG5hbWUgPT09ICcvJyAmJiAnaXMtYWN0aXZlJ30+SG9tZTwvYT5cbiAgICA8L0xpbms+XG5cbiAgICA8TGluayBwcmVmZXRjaCBocmVmPScvYWJvdXQnPlxuICAgICAgPGEgY2xhc3NOYW1lPXtwYXRobmFtZSA9PT0gJy9hYm91dCcgJiYgJ2lzLWFjdGl2ZSd9PkFib3V0PC9hPlxuICAgIDwvTGluaz5cblxuICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgIGhlYWRlciB7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDI1cHg7XG4gICAgICB9XG4gICAgICBhIHtcbiAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICBtYXJnaW4tcmlnaHQ6IDE1cHg7XG4gICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgICAgIH1cbiAgICAgIC5pcy1hY3RpdmUge1xuICAgICAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcbiAgICAgIH1cbiAgICBgfTwvc3R5bGU+XG4gIDwvaGVhZGVyPlxuKVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vY29tcG9uZW50cy9IZWFkZXIuanMiLCJpbXBvcnQgeyBncWwsIGdyYXBocWwgfSBmcm9tICdyZWFjdC1hcG9sbG8nXG5pbXBvcnQgUG9zdFVwdm90ZXIgZnJvbSAnLi9Qb3N0VXB2b3RlcidcblxuY29uc3QgUE9TVFNfUEVSX1BBR0UgPSAxMFxuXG5mdW5jdGlvbiBQb3N0TGlzdCAoeyBkYXRhOiB7IGFsbFBvc3RzLCBsb2FkaW5nLCBfYWxsUG9zdHNNZXRhIH0sIGxvYWRNb3JlUG9zdHMgfSkge1xuICBpZiAoYWxsUG9zdHMgJiYgYWxsUG9zdHMubGVuZ3RoKSB7XG4gICAgY29uc3QgYXJlTW9yZVBvc3RzID0gYWxsUG9zdHMubGVuZ3RoIDwgX2FsbFBvc3RzTWV0YS5jb3VudFxuICAgIHJldHVybiAoXG4gICAgICA8c2VjdGlvbj5cbiAgICAgICAgPHVsPlxuICAgICAgICAgIHthbGxQb3N0cy5tYXAoKHBvc3QsIGluZGV4KSA9PlxuICAgICAgICAgICAgPGxpIGtleT17cG9zdC5pZH0+XG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPHNwYW4+e2luZGV4ICsgMX0uIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8YSBocmVmPXtwb3N0LnVybH0+e3Bvc3QudGl0bGV9PC9hPlxuICAgICAgICAgICAgICAgIDxQb3N0VXB2b3RlciBpZD17cG9zdC5pZH0gdm90ZXM9e3Bvc3Qudm90ZXN9IC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICApfVxuICAgICAgICA8L3VsPlxuICAgICAgICB7YXJlTW9yZVBvc3RzID8gPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBsb2FkTW9yZVBvc3RzKCl9PiB7bG9hZGluZyA/ICdMb2FkaW5nLi4uJyA6ICdTaG93IE1vcmUnfSA8L2J1dHRvbj4gOiAnJ31cbiAgICAgICAgPHN0eWxlIGpzeD57YFxuICAgICAgICAgIHNlY3Rpb24ge1xuICAgICAgICAgICAgcGFkZGluZy1ib3R0b206IDIwcHg7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxpIHtcbiAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAgICAgICAgICB9XG4gICAgICAgICAgZGl2IHtcbiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIH1cbiAgICAgICAgICBhIHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgICAgIG1hcmdpbi1yaWdodDogMTBweDtcbiAgICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgICAgICAgICAgIHBhZGRpbmctYm90dG9tOiAwO1xuICAgICAgICAgICAgYm9yZGVyOiAwO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzcGFuIHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgICAgIG1hcmdpbi1yaWdodDogNXB4O1xuICAgICAgICAgIH1cbiAgICAgICAgICB1bCB7XG4gICAgICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICAgIH1cbiAgICAgICAgICBidXR0b246YmVmb3JlIHtcbiAgICAgICAgICAgIGFsaWduLXNlbGY6IGNlbnRlcjtcbiAgICAgICAgICAgIGJvcmRlci1zdHlsZTogc29saWQ7XG4gICAgICAgICAgICBib3JkZXItd2lkdGg6IDZweCA0cHggMCA0cHg7XG4gICAgICAgICAgICBib3JkZXItY29sb3I6ICNmZmZmZmYgdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQ7XG4gICAgICAgICAgICBjb250ZW50OiBcIlwiO1xuICAgICAgICAgICAgaGVpZ2h0OiAwO1xuICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiA1cHg7XG4gICAgICAgICAgICB3aWR0aDogMDtcbiAgICAgICAgICB9XG4gICAgICAgIGB9PC9zdHlsZT5cbiAgICAgIDwvc2VjdGlvbj5cbiAgICApXG4gIH1cbiAgcmV0dXJuIDxkaXY+TG9hZGluZzwvZGl2PlxufVxuXG5jb25zdCBhbGxQb3N0cyA9IGdxbGBcbiAgcXVlcnkgYWxsUG9zdHMoJGZpcnN0OiBJbnQhLCAkc2tpcDogSW50ISkge1xuICAgIGFsbFBvc3RzKG9yZGVyQnk6IGNyZWF0ZWRBdF9ERVNDLCBmaXJzdDogJGZpcnN0LCBza2lwOiAkc2tpcCkge1xuICAgICAgaWRcbiAgICAgIHRpdGxlXG4gICAgICB2b3Rlc1xuICAgICAgdXJsXG4gICAgICBjcmVhdGVkQXRcbiAgICB9LFxuICAgIF9hbGxQb3N0c01ldGEge1xuICAgICAgY291bnRcbiAgICB9XG4gIH1cbmBcblxuLy8gVGhlIGBncmFwaHFsYCB3cmFwcGVyIGV4ZWN1dGVzIGEgR3JhcGhRTCBxdWVyeSBhbmQgbWFrZXMgdGhlIHJlc3VsdHNcbi8vIGF2YWlsYWJsZSBvbiB0aGUgYGRhdGFgIHByb3Agb2YgdGhlIHdyYXBwZWQgY29tcG9uZW50IChQb3N0TGlzdClcbmV4cG9ydCBkZWZhdWx0IGdyYXBocWwoYWxsUG9zdHMsIHtcbiAgb3B0aW9uczoge1xuICAgIHZhcmlhYmxlczoge1xuICAgICAgc2tpcDogMCxcbiAgICAgIGZpcnN0OiBQT1NUU19QRVJfUEFHRVxuICAgIH1cbiAgfSxcbiAgcHJvcHM6ICh7IGRhdGEgfSkgPT4gKHtcbiAgICBkYXRhLFxuICAgIGxvYWRNb3JlUG9zdHM6ICgpID0+IHtcbiAgICAgIHJldHVybiBkYXRhLmZldGNoTW9yZSh7XG4gICAgICAgIHZhcmlhYmxlczoge1xuICAgICAgICAgIHNraXA6IGRhdGEuYWxsUG9zdHMubGVuZ3RoXG4gICAgICAgIH0sXG4gICAgICAgIHVwZGF0ZVF1ZXJ5OiAocHJldmlvdXNSZXN1bHQsIHsgZmV0Y2hNb3JlUmVzdWx0IH0pID0+IHtcbiAgICAgICAgICBpZiAoIWZldGNoTW9yZVJlc3VsdC5kYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJldmlvdXNSZXN1bHRcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHByZXZpb3VzUmVzdWx0LCB7XG4gICAgICAgICAgICAvLyBBcHBlbmQgdGhlIG5ldyBwb3N0cyByZXN1bHRzIHRvIHRoZSBvbGQgb25lXG4gICAgICAgICAgICBhbGxQb3N0czogWy4uLnByZXZpb3VzUmVzdWx0LmFsbFBvc3RzLCAuLi5mZXRjaE1vcmVSZXN1bHQuZGF0YS5hbGxQb3N0c11cbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgfSlcbn0pKFBvc3RMaXN0KVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vY29tcG9uZW50cy9Qb3N0TGlzdC5qcyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCB7IGdxbCwgZ3JhcGhxbCB9IGZyb20gJ3JlYWN0LWFwb2xsbydcblxuZnVuY3Rpb24gUG9zdFVwdm90ZXIgKHsgdXB2b3RlLCB2b3RlcywgaWQgfSkge1xuICByZXR1cm4gKFxuICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gdXB2b3RlKGlkLCB2b3RlcyArIDEpfT5cbiAgICAgIHt2b3Rlc31cbiAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgYnV0dG9uIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjZTRlNGU0O1xuICAgICAgICAgIGNvbG9yOiAjMDAwO1xuICAgICAgICB9XG4gICAgICAgIGJ1dHRvbjphY3RpdmUge1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIGJ1dHRvbjpiZWZvcmUge1xuICAgICAgICAgIGFsaWduLXNlbGY6IGNlbnRlcjtcbiAgICAgICAgICBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50IHRyYW5zcGFyZW50ICMwMDAwMDAgdHJhbnNwYXJlbnQ7XG4gICAgICAgICAgYm9yZGVyLXN0eWxlOiBzb2xpZDtcbiAgICAgICAgICBib3JkZXItd2lkdGg6IDAgNHB4IDZweCA0cHg7XG4gICAgICAgICAgY29udGVudDogXCJcIjtcbiAgICAgICAgICBoZWlnaHQ6IDA7XG4gICAgICAgICAgbWFyZ2luLXJpZ2h0OiA1cHg7XG4gICAgICAgICAgd2lkdGg6IDA7XG4gICAgICAgIH1cbiAgICAgIGB9PC9zdHlsZT5cbiAgICA8L2J1dHRvbj5cbiAgKVxufVxuXG5jb25zdCB1cHZvdGVQb3N0ID0gZ3FsYFxuICBtdXRhdGlvbiB1cGRhdGVQb3N0KCRpZDogSUQhLCAkdm90ZXM6IEludCkge1xuICAgIHVwZGF0ZVBvc3QoaWQ6ICRpZCwgdm90ZXM6ICR2b3Rlcykge1xuICAgICAgaWRcbiAgICAgIHZvdGVzXG4gICAgfVxuICB9XG5gXG5cbmV4cG9ydCBkZWZhdWx0IGdyYXBocWwodXB2b3RlUG9zdCwge1xuICBwcm9wczogKHsgb3duUHJvcHMsIG11dGF0ZSB9KSA9PiAoe1xuICAgIHVwdm90ZTogKGlkLCB2b3RlcykgPT4gbXV0YXRlKHtcbiAgICAgIHZhcmlhYmxlczogeyBpZCwgdm90ZXMgfSxcbiAgICAgIG9wdGltaXN0aWNSZXNwb25zZToge1xuICAgICAgICB1cGRhdGVQb3N0OiB7XG4gICAgICAgICAgaWQ6IG93blByb3BzLmlkLFxuICAgICAgICAgIHZvdGVzOiBvd25Qcm9wcy52b3RlcyArIDFcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gIH0pXG59KShQb3N0VXB2b3RlcilcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2NvbXBvbmVudHMvUG9zdFVwdm90ZXIuanMiLCJpbXBvcnQgeyBncWwsIGdyYXBocWwgfSBmcm9tICdyZWFjdC1hcG9sbG8nXG5cbmZ1bmN0aW9uIFN1Ym1pdCAoeyBjcmVhdGVQb3N0IH0pIHtcbiAgZnVuY3Rpb24gaGFuZGxlU3VibWl0IChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICBsZXQgdGl0bGUgPSBlLnRhcmdldC5lbGVtZW50cy50aXRsZS52YWx1ZVxuICAgIGxldCB1cmwgPSBlLnRhcmdldC5lbGVtZW50cy51cmwudmFsdWVcblxuICAgIGlmICh0aXRsZSA9PT0gJycgfHwgdXJsID09PSAnJykge1xuICAgICAgd2luZG93LmFsZXJ0KCdCb3RoIGZpZWxkcyBhcmUgcmVxdWlyZWQuJylcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIC8vIHByZXBlbmQgaHR0cCBpZiBtaXNzaW5nIGZyb20gdXJsXG4gICAgaWYgKCF1cmwubWF0Y2goL15bYS16QS1aXSs6XFwvXFwvLykpIHtcbiAgICAgIHVybCA9IGBodHRwOi8vJHt1cmx9YFxuICAgIH1cblxuICAgIGNyZWF0ZVBvc3QodGl0bGUsIHVybClcblxuICAgIC8vIHJlc2V0IGZvcm1cbiAgICBlLnRhcmdldC5lbGVtZW50cy50aXRsZS52YWx1ZSA9ICcnXG4gICAgZS50YXJnZXQuZWxlbWVudHMudXJsLnZhbHVlID0gJydcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdH0+XG4gICAgICA8aDE+U3VibWl0PC9oMT5cbiAgICAgIDxpbnB1dCBwbGFjZWhvbGRlcj0ndGl0bGUnIG5hbWU9J3RpdGxlJyAvPlxuICAgICAgPGlucHV0IHBsYWNlaG9sZGVyPSd1cmwnIG5hbWU9J3VybCcgLz5cbiAgICAgIDxidXR0b24gdHlwZT0nc3VibWl0Jz5TdWJtaXQ8L2J1dHRvbj5cbiAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgZm9ybSB7XG4gICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlY2VjZWM7XG4gICAgICAgICAgcGFkZGluZy1ib3R0b206IDIwcHg7XG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgICAgICAgfVxuICAgICAgICBoMSB7XG4gICAgICAgICAgZm9udC1zaXplOiAyMHB4O1xuICAgICAgICB9XG4gICAgICAgIGlucHV0IHtcbiAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICAgICAgICB9XG4gICAgICBgfTwvc3R5bGU+XG4gICAgPC9mb3JtPlxuICApXG59XG5cbmNvbnN0IGNyZWF0ZVBvc3QgPSBncWxgXG4gIG11dGF0aW9uIGNyZWF0ZVBvc3QoJHRpdGxlOiBTdHJpbmchLCAkdXJsOiBTdHJpbmchKSB7XG4gICAgY3JlYXRlUG9zdCh0aXRsZTogJHRpdGxlLCB1cmw6ICR1cmwpIHtcbiAgICAgIGlkXG4gICAgICB0aXRsZVxuICAgICAgdm90ZXNcbiAgICAgIHVybFxuICAgICAgY3JlYXRlZEF0XG4gICAgfVxuICB9XG5gXG5cbmV4cG9ydCBkZWZhdWx0IGdyYXBocWwoY3JlYXRlUG9zdCwge1xuICBwcm9wczogKHsgbXV0YXRlIH0pID0+ICh7XG4gICAgY3JlYXRlUG9zdDogKHRpdGxlLCB1cmwpID0+IG11dGF0ZSh7XG4gICAgICB2YXJpYWJsZXM6IHsgdGl0bGUsIHVybCB9LFxuICAgICAgdXBkYXRlUXVlcmllczoge1xuICAgICAgICBhbGxQb3N0czogKHByZXZpb3VzUmVzdWx0LCB7IG11dGF0aW9uUmVzdWx0IH0pID0+IHtcbiAgICAgICAgICBjb25zdCBuZXdQb3N0ID0gbXV0YXRpb25SZXN1bHQuZGF0YS5jcmVhdGVQb3N0XG4gICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHByZXZpb3VzUmVzdWx0LCB7XG4gICAgICAgICAgICAvLyBBcHBlbmQgdGhlIG5ldyBwb3N0XG4gICAgICAgICAgICBhbGxQb3N0czogW25ld1Bvc3QsIC4uLnByZXZpb3VzUmVzdWx0LmFsbFBvc3RzXVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICB9KVxufSkoU3VibWl0KVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vY29tcG9uZW50cy9TdWJtaXQuanMiLCJpbXBvcnQgeyBBcG9sbG9DbGllbnQsIGNyZWF0ZU5ldHdvcmtJbnRlcmZhY2UgfSBmcm9tICdyZWFjdC1hcG9sbG8nXG5cbmxldCBhcG9sbG9DbGllbnQgPSBudWxsXG5cbmZ1bmN0aW9uIGNyZWF0ZUNsaWVudCAoaGVhZGVycykge1xuICByZXR1cm4gbmV3IEFwb2xsb0NsaWVudCh7XG4gICAgc3NyTW9kZTogIXByb2Nlc3MuYnJvd3NlcixcbiAgICBkYXRhSWRGcm9tT2JqZWN0OiByZXN1bHQgPT4gcmVzdWx0LmlkIHx8IG51bGwsXG4gICAgbmV0d29ya0ludGVyZmFjZTogY3JlYXRlTmV0d29ya0ludGVyZmFjZSh7XG4gICAgICB1cmk6ICdodHRwczovL2FwaS5ncmFwaC5jb29sL3NpbXBsZS92MS9jajB2aW45d3QxZW03MDEwMmlyZWd3bWJ6JyxcbiAgICAgIG9wdHM6IHtcbiAgICAgICAgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbidcbiAgICAgICAgLy8gUGFzcyBoZWFkZXJzIGhlcmUgaWYgeW91ciBncmFwaHFsIHNlcnZlciByZXF1aXJlcyB0aGVtXG4gICAgICB9XG4gICAgfSlcbiAgfSlcbn1cblxuZXhwb3J0IGNvbnN0IGluaXRDbGllbnQgPSAoaGVhZGVycykgPT4ge1xuICBpZiAoIXByb2Nlc3MuYnJvd3Nlcikge1xuICAgIHJldHVybiBjcmVhdGVDbGllbnQoaGVhZGVycylcbiAgfVxuICBpZiAoIWFwb2xsb0NsaWVudCkge1xuICAgIGFwb2xsb0NsaWVudCA9IGNyZWF0ZUNsaWVudChoZWFkZXJzKVxuICB9XG4gIHJldHVybiBhcG9sbG9DbGllbnRcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2xpYi9pbml0Q2xpZW50LmpzIiwiaW1wb3J0IHsgY3JlYXRlU3RvcmUgfSBmcm9tICdyZWR1eCdcbmltcG9ydCBnZXRSZWR1Y2VyIGZyb20gJy4vcmVkdWNlcidcbmltcG9ydCBjcmVhdGVNaWRkbGV3YXJlIGZyb20gJy4vbWlkZGxld2FyZSdcblxubGV0IHJlZHV4U3RvcmUgPSBudWxsXG5cbmV4cG9ydCBjb25zdCBpbml0U3RvcmUgPSAoY2xpZW50LCBpbml0aWFsU3RhdGUpID0+IHtcbiAgbGV0IHN0b3JlXG4gIGlmICghcHJvY2Vzcy5icm93c2VyIHx8ICFyZWR1eFN0b3JlKSB7XG4gICAgY29uc3QgbWlkZGxld2FyZSA9IGNyZWF0ZU1pZGRsZXdhcmUoY2xpZW50Lm1pZGRsZXdhcmUoKSlcbiAgICBzdG9yZSA9IGNyZWF0ZVN0b3JlKGdldFJlZHVjZXIoY2xpZW50KSwgaW5pdGlhbFN0YXRlLCBtaWRkbGV3YXJlKVxuICAgIGlmICghcHJvY2Vzcy5icm93c2VyKSB7XG4gICAgICByZXR1cm4gc3RvcmVcbiAgICB9XG4gICAgcmVkdXhTdG9yZSA9IHN0b3JlXG4gIH1cbiAgcmV0dXJuIHJlZHV4U3RvcmVcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2xpYi9pbml0U3RvcmUuanMiLCJpbXBvcnQgeyBhcHBseU1pZGRsZXdhcmUsIGNvbXBvc2UgfSBmcm9tICdyZWR1eCdcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlTWlkZGxld2FyZSAoY2xpZW50TWlkZGxld2FyZSkge1xuICBjb25zdCBtaWRkbGV3YXJlID0gYXBwbHlNaWRkbGV3YXJlKGNsaWVudE1pZGRsZXdhcmUpXG4gIGlmIChwcm9jZXNzLmJyb3dzZXIgJiYgd2luZG93LmRldlRvb2xzRXh0ZW5zaW9uKSB7XG4gICAgcmV0dXJuIGNvbXBvc2UobWlkZGxld2FyZSwgd2luZG93LmRldlRvb2xzRXh0ZW5zaW9uKCkpXG4gIH1cbiAgcmV0dXJuIG1pZGRsZXdhcmVcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2xpYi9taWRkbGV3YXJlLmpzIiwiaW1wb3J0IHsgY29tYmluZVJlZHVjZXJzIH0gZnJvbSAncmVkdXgnXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldFJlZHVjZXIgKGNsaWVudCkge1xuICByZXR1cm4gY29tYmluZVJlZHVjZXJzKHtcbiAgICBhcG9sbG86IGNsaWVudC5yZWR1Y2VyKClcbiAgfSlcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2xpYi9yZWR1Y2VyLmpzIiwiaW1wb3J0ICdpc29tb3JwaGljLWZldGNoJ1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgQXBvbGxvUHJvdmlkZXIsIGdldERhdGFGcm9tVHJlZSB9IGZyb20gJ3JlYWN0LWFwb2xsbydcbmltcG9ydCB7IGluaXRDbGllbnQgfSBmcm9tICcuL2luaXRDbGllbnQnXG5pbXBvcnQgeyBpbml0U3RvcmUgfSBmcm9tICcuL2luaXRTdG9yZSdcblxuZXhwb3J0IGRlZmF1bHQgKENvbXBvbmVudCkgPT4gKFxuICBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgc3RhdGljIGFzeW5jIGdldEluaXRpYWxQcm9wcyAoY3R4KSB7XG4gICAgICBjb25zdCBoZWFkZXJzID0gY3R4LnJlcSA/IGN0eC5yZXEuaGVhZGVycyA6IHt9XG4gICAgICBjb25zdCBjbGllbnQgPSBpbml0Q2xpZW50KGhlYWRlcnMpXG4gICAgICBjb25zdCBzdG9yZSA9IGluaXRTdG9yZShjbGllbnQsIGNsaWVudC5pbml0aWFsU3RhdGUpXG5cbiAgICAgIGNvbnN0IHByb3BzID0ge1xuICAgICAgICB1cmw6IHsgcXVlcnk6IGN0eC5xdWVyeSwgcGF0aG5hbWU6IGN0eC5wYXRobmFtZSB9LFxuICAgICAgICAuLi5hd2FpdCAoQ29tcG9uZW50LmdldEluaXRpYWxQcm9wcyA/IENvbXBvbmVudC5nZXRJbml0aWFsUHJvcHMoY3R4KSA6IHt9KVxuICAgICAgfVxuXG4gICAgICBpZiAoIXByb2Nlc3MuYnJvd3Nlcikge1xuICAgICAgICBjb25zdCBhcHAgPSAoXG4gICAgICAgICAgPEFwb2xsb1Byb3ZpZGVyIGNsaWVudD17Y2xpZW50fSBzdG9yZT17c3RvcmV9PlxuICAgICAgICAgICAgPENvbXBvbmVudCB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgPC9BcG9sbG9Qcm92aWRlcj5cbiAgICAgICAgKVxuICAgICAgICBhd2FpdCBnZXREYXRhRnJvbVRyZWUoYXBwKVxuICAgICAgfVxuXG4gICAgICBjb25zdCBzdGF0ZSA9IHN0b3JlLmdldFN0YXRlKClcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaW5pdGlhbFN0YXRlOiB7XG4gICAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgICAgYXBvbGxvOiB7XG4gICAgICAgICAgICBkYXRhOiBjbGllbnQuZ2V0SW5pdGlhbFN0YXRlKCkuZGF0YVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgLi4ucHJvcHNcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcbiAgICAgIHN1cGVyKHByb3BzKVxuICAgICAgdGhpcy5jbGllbnQgPSBpbml0Q2xpZW50KHRoaXMucHJvcHMuaGVhZGVycylcbiAgICAgIHRoaXMuc3RvcmUgPSBpbml0U3RvcmUodGhpcy5jbGllbnQsIHRoaXMucHJvcHMuaW5pdGlhbFN0YXRlKVxuICAgIH1cblxuICAgIHJlbmRlciAoKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8QXBvbGxvUHJvdmlkZXIgY2xpZW50PXt0aGlzLmNsaWVudH0gc3RvcmU9e3RoaXMuc3RvcmV9PlxuICAgICAgICAgIDxDb21wb25lbnQgey4uLnRoaXMucHJvcHN9IC8+XG4gICAgICAgIDwvQXBvbGxvUHJvdmlkZXI+XG4gICAgICApXG4gICAgfVxuICB9XG4pXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9saWIvd2l0aERhdGEuanMiXSwic291cmNlUm9vdCI6IiJ9"}